<div class="card rounded-lg shadow mb-2 bg-white rounded animated fadeIn">
  <div class="card-body">
    <h1 class="text-aqua-dark mb-3">Añadir Médico</h1>
    <!-- formulario para añadir medico -->
    <form [formGroup]="angForm" (ngSubmit)="submitForm()" novalidate>
      <div class="row">
        <div class="form-group col-lg">
          <input type="text" class="form-control" [ngClass]="{'is-invalid': angForm.controls['username'].errors?.required && angForm.controls['username'].touched}"
          formControlName="username"  placeholder="Nombre de Usuario *"
            #username/>
            <!-- error -->
            <div *ngIf="angForm.controls['username'].invalid && (angForm.controls['username'].dirty || angForm.controls['username'].touched)" class="text-danger font-weight-light">
              <div *ngIf="angForm.controls['username'].errors.required">
                Nombre de usuario es requerido.
              </div>
            </div>
        </div>
        
        <div class="form-group col-lg">
          <input type="password" class="form-control" [ngClass]="{'is-invalid': angForm.controls['password'].errors?.required && angForm.controls['password'].touched}"
          formControlName="password" placeholder="Contraseña *"
            #password/>
            <!-- error -->
            <div *ngIf="angForm.controls['password'].invalid && (angForm.controls['password'].dirty || angForm.controls['password'].touched)" class="text-danger font-weight-light">
              <div *ngIf="angForm.controls['password'].errors.required">
                Contraseña es requerida.
              </div>
            </div>
        </div>
      </div>

      <div class="row">
        <div class="form-group col-lg">
          <input type="text" class="form-control"  
          [ngClass]="{'is-invalid': angForm.controls['firstName'].errors?.required && angForm.controls['firstName'].touched}"
          formControlName="firstName" placeholder="Nombres *"
            #firstName/>
              <!-- error -->
              <div *ngIf="angForm.controls['firstName'].invalid && (angForm.controls['firstName'].dirty || angForm.controls['firstName'].touched)" class="text-danger font-weight-light">
              <div *ngIf="angForm.controls['firstName'].errors.required">
                Nombre es requerido.
              </div>
            </div>
        </div>
        
        <div class="form-group col-lg">
          <input type="text" class="form-control"  
          [ngClass]="{'is-invalid': angForm.controls['lastName'].errors?.required && angForm.controls['lastName'].touched}"
          formControlName="lastName" placeholder="Apellidos *"
            #lastName/>
              <!-- error -->
              <div *ngIf="angForm.controls['lastName'].invalid && (angForm.controls['lastName'].dirty || angForm.controls['lastName'].touched)" class="text-danger font-weight-light">
              <div *ngIf="angForm.controls['lastName'].errors.required">
                Apellidos son requeridos.
              </div>
            </div>
        </div>
      </div>

      <div class="row">
        <div class="form-group col-lg">
          <input type="email" class="form-control"  
          [ngClass]="{'is-invalid': angForm.controls['email'].errors?.required && angForm.controls['email'].touched}"
          formControlName="email" placeholder="Correo Electrónico *"
            #email/>
            <!-- error -->
            <div *ngIf="angForm.controls['email'].invalid && (angForm.controls['email'].dirty || angForm.controls['email'].touched)" class="text-danger font-weight-light">
              <div *ngIf="angForm.controls['email'].errors.required">
                Correo obligatorio.
              </div>
            </div>
        </div>

        <div class="form-group col-lg">
          <input type="text" class="form-control" 
          formControlName="specialty" placeholder="Especialidad"
            #specialty/>
        </div>
        
        <div class="form-group col-lg">
          <input type="text" class="form-control" 
          formControlName="phone" placeholder="Teléfono"
          #phone/>
            <div *ngIf="angForm.controls['phone'].invalid && (angForm.controls['phone'].dirty || angForm.controls['phone'].touched)" class="text-danger font-weight-light">
                Deben ser solo digitos
            </div>
        </div>
      </div>

      <div class="row">
        <div class="form-group col-lg">
          <input type="text" class="form-control" 
          formControlName="address" placeholder="Dirección"
            #address/>
        </div>

        <div class="form-group col-lg">
          <select class="custom-select" formControlName="genero" #genero>
            <option value="" disabled>Seleccione género</option>
            <option *ngFor="let gen of generos" [ngValue]="gen">{{gen}}</option>
          </select>
        </div>
      </div>

      <div class="row">
        <div class="form-group col-lg-6">
          <select class="custom-select" formControlName="role" #role
            [ngClass]="{'is-invalid': angForm.controls['role'].errors?.required && angForm.controls['role'].touched}">
            <option value="" disabled>Seleccione el rol *</option>
            <option *ngFor="let role of roles" [ngValue]="role">{{role}}</option>
          </select>
          <div *ngIf="angForm.controls['role'].invalid && (angForm.controls['role'].dirty || angForm.controls['role'].touched)" class="text-danger font-weight-light">
            Debe elegir un rol
        </div>
        </div>
      </div>

      <div>
        <div class="custom-file col-lg-4 form-group">
          <label class="custom-file-label" for="file">Foto de perfil</label>
          <input type="file" id="file" #fileInput lang="es" class="custom-file-input"
                  FormControlName="imagePath" (change)="onFileChange($event)">
        </div>
        <div class="w-100 d-flex justify-content-center">
          <img [src]="image" *ngIf="image" alt="foto-perfil" id="foto-perfil" class="p-2 mx-auto">
        </div>
      </div>

      <div class="form-group mt-4">
        <button type="submit" class="btn btn-block text-white bg-aqua"
        [disabled]="angForm.pristine || angForm.invalid">Añadir Médico</button>
      </div>
    </form>
    <!-- fin formulario para añadir medico -->
  </div>
</div>
