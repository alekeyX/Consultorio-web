<div class="card rounded-lg shadow mb-2 bg-white rounded animated fadeIn">
  <div class="card-body">
  
    <h1 class="text-aqua-dark mb-3">Añadir Paciente</h1>
  
      <!-- formulario para añadir paciente -->
      <form [formGroup]="angForm" (ngSubmit)="submitForm()" novalidate>
        
        <div class="row">
          <div class="form-group col-lg">
            <input type="text" class="form-control" [ngClass]="{'is-invalid': angForm.controls['username'].errors?.required && angForm.controls['username'].touched}"
            formControlName="username"  placeholder="Código de paciente*"
              #username/>
              <!-- error -->
              <div *ngIf="angForm.controls['username'].invalid && (angForm.controls['username'].dirty || angForm.controls['username'].touched)" class="text-danger font-weight-light">
                <div *ngIf="angForm.controls['username'].errors.required">
                  Código de paciente es requerido.
                </div>
              </div>
          </div>
          
          <div class="form-group col-lg">
            <input type="text" class="form-control" [ngClass]="{'is-invalid': angForm.controls['ci'].errors?.required && angForm.controls['ci'].touched}"
            formControlName="ci" placeholder="Carnet de identidad*"
              #ci/>
              <!-- error -->
            <div *ngIf="angForm.controls['ci'].invalid && (angForm.controls['ci'].dirty || angForm.controls['ci'].touched)" class="text-danger font-weight-light">
              <div *ngIf="angForm.controls['ci'].errors.required">
                Carnet de identidad es requerido.
              </div>
            </div>
          </div>
        </div>
  
        <div class="row">
          <div class="form-group col-lg">
            <input type="text" class="form-control"  
            [ngClass]="{'is-invalid': angForm.controls['firstName'].errors?.required && angForm.controls['firstName'].touched}"
            formControlName="firstName" placeholder="Nombres*"
              #firstName/>
            <!-- error -->
            <div *ngIf="angForm.controls['firstName'].invalid && (angForm.controls['firstName'].dirty || angForm.controls['firstName'].touched)" class="text-danger font-weight-light">
              <div *ngIf="angForm.controls['firstName'].errors.required">
                Nombre es requerido.
              </div>
            </div>
          </div>
          
          <div class="form-group col-lg">
            <input type="text" class="form-control"  
            [ngClass]="{'is-invalid': angForm.controls['lastName'].errors?.required && angForm.controls['lastName'].touched}"
            formControlName="lastName" placeholder="Apellidos*"
              #lastName/>
            <!-- error -->
            <div *ngIf="angForm.controls['lastName'].invalid && (angForm.controls['lastName'].dirty || angForm.controls['lastName'].touched)" class="text-danger font-weight-light">
              <div *ngIf="angForm.controls['lastName'].errors.required">
                Apellidos son requeridos.
              </div>
            </div>
          </div>
        </div>
  
        <div class="row">
          <div class="form-group col-lg">
            <input type="email" class="form-control"  
            formControlName="email" placeholder="Correo Electrónico*"
              #email/>
          </div>

          <div class="form-group col-lg">
            <input type="text" class="form-control" 
            formControlName="age" placeholder="Edad"
              #age/>
          </div>

          <div class="form-group col-lg">
            <select class="custom-select" formControlName="genero" #genero>
              <option value="" disabled>Seleccione género</option>
              <option *ngFor="let gen of generos" [ngValue]="gen">{{gen}}</option>
            </select>
          </div>
        </div>

        <div class="row">
          <div class="form-group col-lg">
            <input type="text" class="form-control"  
            formControlName="ethnicity" placeholder="Grupo étnico"
              #ehnicity/>
          </div>
  
          <div class="form-group col-lg">
            <input type="text" class="form-control" 
            formControlName="maritalStatus" placeholder="Estado civil"
              #maritalStatus/>
          </div>

          <div class="form-group col-lg">
            <input type="text" class="form-control" 
            formControlName="ocupation" placeholder="Ocupación"
              #ocupation/>
          </div>
          
          <div class="form-group col-lg">
            <input type="text" class="form-control" 
            formControlName="phone" placeholder="Teléfono"
            #phone/>
            <div *ngIf="angForm.controls['phone'].invalid && (angForm.controls['phone'].dirty || angForm.controls['phone'].touched)" class="text-danger font-weight-light">
                Deben ser solo digitos
            </div>
          </div>
        </div>
  
        <div class="row">
          <div class="form-group col-lg">
            <input type="text" class="form-control" 
              formControlName="placeBirth" placeholder="Lugar de nacimiento"
              #placeBirth/>
          </div>
          <div class="form-group col-lg">
            <input type="text" class="form-control" 
            formControlName="address" placeholder="Dirección actual"
              #address/>
          </div>
        </div>
  
        <div>
          <div class="custom-file col-lg-4 form-group">
            <label class="custom-file-label" for="file">Foto de perfil</label>
            <input type="file"  id="file" #fileInput  lang="es" class="custom-file-input"
                    FormControlName="imagePath" (change)="onFileChange($event)">
          </div>
          <div class="w-100 d-flex justify-content-center">
            <img [src]="image" *ngIf="image" alt="foto-perfil" id="foto-perfil" class="p-2">
          </div>
        </div>
  
        <div class="form-group mt-4">
          <button type="submit" class="btn btn-block text-white bg-aqua"
          [disabled]="angForm.pristine || angForm.invalid">Añadir Paciente</button>
        </div>
      </form>
      <!-- fin del formulario -->
    </div>
  </div>
  